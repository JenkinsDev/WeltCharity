{% macro render_field(field) %}
  <div class="field {% if field.errors %}error{% endif %}">
    {% if field.errors %}
      <ul class="errors">
        {%- for error in field.errors %}
          <li>{{ error }}</li>
        {% endfor %}
      </ul>
    {% endif %}
    
    {{ field.label }}
    {{ field(**kwargs)|safe }}
  </div>
{% endmacro %}